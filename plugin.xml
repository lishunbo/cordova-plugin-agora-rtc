<?xml version="1.0" encoding="UTF-8"?>
<plugin xmlns="http://apache.org/cordova/ns/plugins/1.0"
  xmlns:android="http://schemas.android.com/apk/res/android" id="cordova-plugin-agora-rtcn" version="0.1.0">
  <name>Agora-RTCN</name>
  <description></description>
  <license>Apache 2.0</license>
  <keywords>webrtc,rtc,agora,android</keywords>
  <js-module src="www/util.js" name="util">
    <clobbers target="util" />
  </js-module>
  <js-module src="www/NativePlayer.js" name="NativePlayer">
    <clobbers target="Player" />
  </js-module>
  <js-module src="www/Media.js" name="Media">
    <clobbers target="navigator.mediaDevices" />
  </js-module>
  <js-module src="www/RTC.js" name="RTC">
    <clobbers target="RTC" />
  </js-module>
  <js-module src="www/rtcn/AgoraRTCN.js" name="AgoraRTC">
    <clobbers target="AgoraRTC" />
  </js-module>
  <platform name="android">
    <config-file target="config.xml" parent="/*">
      <feature name="Media">
        <param name="android-package" value="io.agora.rtcn.media.MediaHook"/>
        <param name="onload" value="true" />
      </feature>
    </config-file>
    <config-file target="config.xml" parent="/*">
      <feature name="Player">
        <param name="android-package" value="io.agora.rtcn.player.PlayerHook"/>
        <param name="onload" value="true" />
      </feature>
    </config-file>
    <config-file target="config.xml" parent="/*">
      <feature name="WebRTC">
        <param name="android-package" value="io.agora.rtcn.webrtc.WebRTCHook"/>
        <param name="onload" value="true" />
      </feature>
    </config-file>
    <config-file target="AndroidManifest.xml" parent="/*">
      <uses-feature android:name="android.hardware.camera" />
      <uses-feature android:name="android.hardware.camera.autofocus" />

      <uses-permission android:name="android.permission.CAMERA" />
      <uses-permission android:name="android.permission.MODIFY_AUDIO_SETTINGS" />
      <uses-permission android:name="android.permission.RECORD_AUDIO" />
      <uses-permission android:name="android.permission.INTERNET" />
      <uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />
      <uses-permission android:name="android.permission.WAKE_LOCK" />
      <uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />
      <uses-permission android:name="android.permission.SYSTEM_ALERT_WINDOW" />
      <uses-permission android:name="android.permission.FOREGROUND_SERVICE" />
    </config-file>
    <config-file target="AndroidManifest.xml" parent="/manifest/application">
      <service android:foregroundServiceType="mediaProjection" android:name="io.agora.rtcn.media.services.ScreenCaptureService"/>
    </config-file>
    <!-- Media -->
    <source-file src="src/android/java/media/enums/Action.java" target-dir="src/io/agora/rtcn/media/enums"/>
    <source-file src="src/android/java/media/enums/EMessage.java" target-dir="src/io/agora/rtcn/media/enums"/>
    <source-file src="src/android/java/media/models/MediaDeviceInfo.java" target-dir="src/io/agora/rtcn/media/models"/>
    <source-file src="src/android/java/media/services/MediaDevice.java" target-dir="src/io/agora/rtcn/media/services"/>
    <source-file src="src/android/java/media/services/MediaStreamTrackWrapper.java" target-dir="src/io/agora/rtcn/media/services"/>
    <source-file src="src/android/java/media/services/ScreenCaptureService.java" target-dir="src/io/agora/rtcn/media/services"/>
    <source-file src="src/android/java/media/MediaHook.java" target-dir="src/io/agora/rtcn/media"/>
    <!-- Player -->
    <source-file src="src/android/java/player/enums/Action.java" target-dir="src/io/agora/rtcn/player/enums"/>
    <source-file src="src/android/java/player/enums/PlayConfigFit.java" target-dir="src/io/agora/rtcn/player/enums"/>
    <source-file src="src/android/java/player/interfaces/Player.java" target-dir="src/io/agora/rtcn/player/interfaces"/>
    <source-file src="src/android/java/player/interfaces/Supervisor.java" target-dir="src/io/agora/rtcn/player/interfaces"/>
    <source-file src="src/android/java/player/models/PlayConfig.java" target-dir="src/io/agora/rtcn/player/models"/>
    <source-file src="src/android/java/player/models/ProxyVideoSink.java" target-dir="src/io/agora/rtcn/player/models"/>
    <source-file src="src/android/java/player/services/AudioPlayer.java" target-dir="src/io/agora/rtcn/player/services"/>
    <source-file src="src/android/java/player/services/VideoView.java" target-dir="src/io/agora/rtcn/player/services"/>
    <source-file src="src/android/java/player/PlayerHook.java" target-dir="src/io/agora/rtcn/player"/>
    <!-- RTC -->
    <source-file src="src/android/java/webrtc/enums/Action.java" target-dir="src/io/agora/rtcn/webrtc/enums"/>
    <source-file src="src/android/java/webrtc/enums/RTCBundlePolicy.java" target-dir="src/io/agora/rtcn/webrtc/enums"/>
    <source-file src="src/android/java/webrtc/enums/RTCIceCredentialType.java" target-dir="src/io/agora/rtcn/webrtc/enums"/>
    <source-file src="src/android/java/webrtc/enums/RTCIceTransportPolicy.java" target-dir="src/io/agora/rtcn/webrtc/enums"/>
    <source-file src="src/android/java/webrtc/enums/RTCRtcpMuxPolicy.java" target-dir="src/io/agora/rtcn/webrtc/enums"/>
    <source-file src="src/android/java/webrtc/interfaces/CredentialDetail.java" target-dir="src/io/agora/rtcn/webrtc/interfaces"/>
    <source-file src="src/android/java/webrtc/models/MediaStreamConstraints.java" target-dir="src/io/agora/rtcn/webrtc/models"/>
    <source-file src="src/android/java/webrtc/models/MediaTrackConstraints.java" target-dir="src/io/agora/rtcn/webrtc/models"/>
    <source-file src="src/android/java/webrtc/models/MediaTrackConstraintSet.java" target-dir="src/io/agora/rtcn/webrtc/models"/>
    <source-file src="src/android/java/webrtc/models/RTCCertificate.java" target-dir="src/io/agora/rtcn/webrtc/models"/>
    <source-file src="src/android/java/webrtc/models/RTCConfiguration.java" target-dir="src/io/agora/rtcn/webrtc/models"/>
    <source-file src="src/android/java/webrtc/models/RTCIceServer.java" target-dir="src/io/agora/rtcn/webrtc/models"/>
    <source-file src="src/android/java/webrtc/models/RTCOAuthCredential.java" target-dir="src/io/agora/rtcn/webrtc/models"/>
    <source-file src="src/android/java/webrtc/models/RTCOfferOptions.java" target-dir="src/io/agora/rtcn/webrtc/models"/>
    <source-file src="src/android/java/webrtc/models/SessionDescription.java" target-dir="src/io/agora/rtcn/webrtc/models"/>
    <source-file src="src/android/java/webrtc/services/PCFactory.java" target-dir="src/io/agora/rtcn/webrtc/services"/>
    <source-file src="src/android/java/webrtc/services/RTCPeerConnection.java" target-dir="src/io/agora/rtcn/webrtc/services"/>
    <source-file src="src/android/java/webrtc/Config.java" target-dir="src/io/agora/rtcn/webrtc"/>
    <source-file src="src/android/java/webrtc/WebRTCHook.java" target-dir="src/io/agora/rtcn/webrtc"/>
    <!-- resources -->
    <resource-file src="libs/libwebrtc.aar" target="libs/libwebrtc.aar" />
    <!-- framework -->
    <framework src="./src/android/build.gradle" custom="true" type="gradleReference" />
  </platform>
</plugin>